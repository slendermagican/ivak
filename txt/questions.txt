//вариант 1 
CREATE TABLE quiz_problem_reports (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id),
    quiz_id INT,
    FOREIGN KEY (quiz_id) REFERENCES quizzes(id),
    description TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

<?php
session_start();
include "../db/connection.php";

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['submitQuizProblem'])) {
    // Validate input
    $quizId = $_POST['quiz_id'];
    $description = $_POST['description'];

    // Insert the problem report into the database
    $userId = $_SESSION['user_id'];
    $insertReportQuery = "INSERT INTO quiz_problem_reports (user_id, quiz_id, description) VALUES ('$userId', '$quizId', '$description')";
    $result = mysqli_query($conn, $insertReportQuery);
    if (!$result) {
        die("Error: " . mysqli_error($conn));
    }
    // Redirect back to the quiz page or display a success message
    // header("Location: quiz_page.php?quiz_id=$quizId");
    echo "Problem reported successfully!";
    exit();
}
?>


Certainly! I'll provide you with the additional PHP code to handle the submission of problem reports for both options: specific to quizzes and for the entire website.

Option 1: Problem Reports Specific to Quizzes
php
Copy code
<?php
session_start();
include "../db/connection.php";

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['submitQuizProblem'])) {
    // Validate input
    $quizId = $_POST['quiz_id'];
    $description = $_POST['description'];

    // Insert the problem report into the database
    $userId = $_SESSION['user_id'];
    $insertReportQuery = "INSERT INTO quiz_problem_reports (user_id, quiz_id, description) VALUES ('$userId', '$quizId', '$description')";
    $result = mysqli_query($conn, $insertReportQuery);
    if (!$result) {
        die("Error: " . mysqli_error($conn));
    }
    // Redirect back to the quiz page or display a success message
    // header("Location: quiz_page.php?quiz_id=$quizId");
    echo "Problem reported successfully!";
    exit();
}
?>
Option 2: Problem Reports for the Entire Website
php
Copy code
<?php
session_start();
include "../db/connection.php";

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['submitWebsiteProblem'])) {
    // Validate input
    $component = $_POST['component'];
    $description = $_POST['description'];

    // Insert the problem report into the database
    $userId = $_SESSION['user_id'];
    $insertReportQuery = "INSERT INTO website_problem_reports (user_id, component, description) VALUES ('$userId', '$component', '$description')";
    $result = mysqli_query($conn, $insertReportQuery);
    if (!$result) {
        die("Error: " . mysqli_error($conn));
    }
    // Redirect back to the homepage or display a success message
    // header("Location: index.php");
    echo "Problem reported successfully!";
    exit();
}
?>

//вариант 1 ^^^^^

//вариант 2 
CREATE TABLE website_problem_reports (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id),
    component VARCHAR(255), -- Indicates the component where the problem occurred (e.g., "quiz", "homepage", etc.)
    description TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

<?php
session_start();
include "../db/connection.php";

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['submitWebsiteProblem'])) {
    // Validate input
    $component = $_POST['component'];
    $description = $_POST['description'];

    // Insert the problem report into the database
    $userId = $_SESSION['user_id'];
    $insertReportQuery = "INSERT INTO website_problem_reports (user_id, component, description) VALUES ('$userId', '$component', '$description')";
    $result = mysqli_query($conn, $insertReportQuery);
    if (!$result) {
        die("Error: " . mysqli_error($conn));
    }
    // Redirect back to the homepage or display a success message
    // header("Location: index.php");
    echo "Problem reported successfully!";
    exit();
}
?>


<?php
session_start();
include "../db/connection.php";

// Check if user is logged in
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST" && isset($_POST['submitWebsiteProblem'])) {
    // Validate input
    $component = $_POST['component'];
    $description = $_POST['description'];

    // Insert the problem report into the database
    $userId = $_SESSION['user_id'];
    $insertReportQuery = "INSERT INTO website_problem_reports (user_id, component, description) VALUES ('$userId', '$component', '$description')";
    $result = mysqli_query($conn, $insertReportQuery);
    if (!$result) {
        die("Error: " . mysqli_error($conn));
    }
    // Redirect back to the homepage or display a success message
    // header("Location: index.php");
    echo "Problem reported successfully!";
    exit();
}
?>


//вариант 2 ^^^^^